<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <meta name="description" content="Convert files between different formats with ease">
  <meta name="theme-color" content="#2196f3">
  
  <!-- Web App Manifest -->
  <link rel="manifest" href="manifest.json">
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="icons/icon-32x32.png">
  <link rel="apple-touch-icon" sizes="192x192" href="icons/icon-192x192.png">
  
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.replit.com/agent/bootstrap-agent-dark-theme.min.css">
  
  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/styles.css">
  
  <title>File Flip - Convert Files Easily</title>
</head>
<body>
  <!-- Header -->
  <header class="bg-primary p-3 mb-4 shadow-sm">
    <div class="container-fluid">
      <div class="d-flex align-items-center justify-content-between">
        <div class="d-flex align-items-center">
          <img src="icons/icon-48x48.png" alt="File Flip Logo" class="me-2" width="48" height="48">
          <h1 class="h3 text-white mb-0">File Flip</h1>
        </div>
        <div>
          <button id="install-app" class="btn btn-sm btn-outline-light d-none">
            Install App
          </button>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="container pb-5">
    <div class="row">
      <!-- Conversion Category Selection -->
      <div class="col-12 mb-4">
        <div class="card border-0 shadow-sm">
          <div class="card-body py-4">
            <h2 class="h4 mb-4 text-center">What would you like to convert?</h2>
            
            <div class="row g-4 justify-content-center text-center">
              <!-- Image conversion -->
              <div class="col-6 col-md-4 col-lg-3">
                <div class="category-card p-3 rounded h-100" data-category="images">
                  <div class="icon-wrapper mb-3 mx-auto">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-image" viewBox="0 0 16 16">
                      <path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
                      <path d="M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z"/>
                    </svg>
                  </div>
                  <h3 class="h6 mb-0">Images</h3>
                </div>
              </div>
              
              <!-- Document conversion -->
              <div class="col-6 col-md-4 col-lg-3">
                <div class="category-card p-3 rounded h-100" data-category="documents">
                  <div class="icon-wrapper mb-3 mx-auto">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-file-earmark-text" viewBox="0 0 16 16">
                      <path d="M5.5 7a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zM5 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z"/>
                      <path d="M9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.5L9.5 0zm0 1v2A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z"/>
                    </svg>
                  </div>
                  <h3 class="h6 mb-0">Documents</h3>
                </div>
              </div>
              
              <!-- Audio conversion -->
              <div class="col-6 col-md-4 col-lg-3">
                <div class="category-card p-3 rounded h-100" data-category="audio">
                  <div class="icon-wrapper mb-3 mx-auto">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-file-earmark-music" viewBox="0 0 16 16">
                      <path d="M11 6.64a1 1 0 0 0-1.243-.97l-1 .25A1 1 0 0 0 8 6.89v4.306A2.572 2.572 0 0 0 7 11c-.5 0-.974.134-1.338.377-.36.24-.662.628-.662 1.123s.301.883.662 1.123c.364.243.839.377 1.338.377.5 0 .974-.134 1.338-.377.36-.24.662-.628.662-1.123V8.89l2-.5V6.64z"/>
                      <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 1 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"/>
                    </svg>
                  </div>
                  <h3 class="h6 mb-0">Audio</h3>
                </div>
              </div>
              
              <!-- Video conversion -->
              <div class="col-6 col-md-4 col-lg-3">
                <div class="category-card p-3 rounded h-100" data-category="video">
                  <div class="icon-wrapper mb-3 mx-auto">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-film" viewBox="0 0 16 16">
                      <path d="M0 1a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V1zm4 0v6h8V1H4zm8 8H4v6h8V9zM1 1v2h2V1H1zm2 3H1v2h2V4zM1 7v2h2V7H1zm2 3H1v2h2v-2zm-2 3v2h2v-2H1zM15 1h-2v2h2V1zm-2 3v2h2V4h-2zm2 3h-2v2h2V7zm-2 3v2h2v-2h-2zm2 3h-2v2h2v-2z"/>
                    </svg>
                  </div>
                  <h3 class="h6 mb-0">Video</h3>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- File Selection and Settings -->
      <div class="col-12 mb-4 d-none" id="file-selection-section">
        <div class="card border-0 shadow-sm">
          <div class="card-body p-4">
            <h2 class="h4 mb-4" id="converter-title">Convert Images</h2>
            
            <div class="mb-4">
              <label for="file-input" class="form-label">Select files to convert</label>
              <input type="file" class="form-control" id="file-input" multiple>
              <div class="form-text" id="file-selection-help">
                Supported formats will be shown based on selection
              </div>
            </div>
            
            <div class="mb-4">
              <label for="output-format" class="form-label">Convert to:</label>
              <select class="form-select" id="output-format">
                <option value="">Select an output format</option>
              </select>
            </div>
            
            <div id="conversion-options" class="mb-4">
              <!-- Dynamic options will be added here based on format -->
            </div>
            
            <div class="d-grid">
              <button class="btn btn-primary" id="convert-button" disabled>
                Convert Files
              </button>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Conversion Progress -->
      <div class="col-12 mb-4 d-none" id="conversion-progress-section">
        <div class="card border-0 shadow-sm">
          <div class="card-body p-4">
            <h2 class="h4 mb-3">Converting Files</h2>
            
            <div class="progress mb-3">
              <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 0%" id="overall-progress"></div>
            </div>
            
            <div id="file-progress-list" class="list-group">
              <!-- File progress items will be added here -->
            </div>
          </div>
        </div>
      </div>
      
      <!-- Converted Files Results -->
      <div class="col-12 mb-4 d-none" id="results-section">
        <div class="card border-0 shadow-sm">
          <div class="card-body p-4">
            <div class="d-flex justify-content-between align-items-center mb-4">
              <h2 class="h4 mb-0">Converted Files</h2>
              <button class="btn btn-sm btn-outline-primary" id="download-all-button">
                Download All
              </button>
            </div>
            
            <div id="results-list" class="list-group">
              <!-- Results will be added here -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-dark py-4 mt-auto">
    <div class="container">
      <p class="text-center text-white-50 mb-0">
        &copy; 2025 File Flip App. All conversions performed locally on your device.
      </p>
    </div>
  </footer>
  
  <!-- Feedback Toast -->
  <div class="toast-container position-fixed bottom-0 end-0 p-3">
    <div id="feedback-toast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="toast-header">
        <img src="icons/icon-16x16.png" class="me-2" alt="File Flip">
        <strong class="me-auto" id="toast-title">Notification</strong>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
      <div class="toast-body" id="toast-message">
        Operation completed successfully.
      </div>
    </div>
  </div>

  <!-- Bootstrap JS with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  
  <!-- Main App JS -->
  <script src="js/app.js"></script>
  
  <!-- Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js')
          .then(registration => {
            console.log('Service Worker registered with scope:', registration.scope);
          })
          .catch(error => {
            console.error('Service Worker registration failed:', error);
          });
      });
    }
  </script>
</body>
</html>